{"version":3,"sources":["Services/dbConection.js","App.js","reportWebVitals.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","console","log","delete","success","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","fail","Filter","newFilter","type","onChange","status","target","value","Mensaje","mensaje","stilo","style","ShowNumbers","numbers","filter","setPersons","regEx","RegExp","length","actual","name","match","map","number","DeleteButton","onClick","window","confirm","find","dbConections","App","useState","persons","setMensaje","useEffect","setStilo","newName","setNewName","changeHandler","aux","onSubmit","preventDefault","some","PersonToChange","catch","error","setTimeout","changeNumber","personToAdd","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.af4e45ae.chunk.js","sourcesContent":["import axios from 'axios'\r\nlet baseUrl = \"http://localhost:3001/api/persons\"\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data);\r\n}\r\n\r\nconst create = (newObject) => {\r\n    const request = axios.post(baseUrl,newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst modify = (id, newObject) =>{\r\n    const request = axios.put(`${baseUrl}/${id}`,newObject)\r\n    return request.then(response => {\r\n        console.log(response)\r\n        return response.data});\r\n}\r\nconst deleteThis = (id) =>\r\n{\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data);\r\n}\r\n\r\nexport default {getAll,create, modify, deleteThis}","import React, { useState, useEffect } from 'react'\nimport dbConections from './Services/dbConection'\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [mensaje, setMensaje] = useState(\"\");\n  useEffect(() => {\n    dbConections.getAll()\n      .then(response => {\n        setPersons([...response])\n      })\n  }, [])\n  const [stilo, setStilo] = useState(success);\n  const [newName, setNewName] = useState('')\n  const [filter, newFilter] = useState('')\n  const changeHandler = (status) => {\n    let value = status[\"target\"][\"value\"];\n    let name = status.target.name;\n    let aux = { ...newName };\n    aux[name] = value;\n    setNewName({ ...aux });\n  }\n  const changeNumber = () => {\n    const PersonToChange = {\n      \"name\" : newName.name,\n      \"number\" : newName.number\n    }\n    let id = persons.find((actual)=>newName.name == actual.name).id;\n    console.log(id);\n    dbConections.modify(id,PersonToChange)\n    .then(response => {\n      setPersons(persons.map((actual)=>{\n        if(actual.id !== id)\n        {\n          return actual;\n        }\n        else\n        {\n          return response;\n        }\n      }))\n    })\n    .catch(error => {\n      setStilo(fail);\n      setMensaje(`Information of ${PersonToChange.name} has been deleted`);\n      setTimeout(()=>{setMensaje(\"\")\n      setStilo(success);\n    },2000);\n    }\n    )\n  }\n  const subHandler = (status) => {\n    status.preventDefault();\n    if (persons.some((value) => value.name === newName.name)) \n      {\n        if(window.confirm(`${newName.name} is already added to the phonebook,do you want to change the number?`))\n        changeNumber();\n\n      }\n    else {\n      const personToAdd = {\n        \"name\": newName.name,\n        \"number\": newName.number\n      }\n      \n      dbConections.create(personToAdd)\n        .then(response => {\n          setPersons([...persons,response])\n          setMensaje(`Added ${response.name}`);\n        })\n        setTimeout(()=>setMensaje(\"\"),2000)\n      }\n  status.target[0].value = \"\";\n  status.target[1].value = \"\";\n\n}\n\nreturn (\n  <div>\n    <Filter newFilter={newFilter} />\n    <Mensaje  mensaje={mensaje} stilo={stilo}/>\n    <h2>Phonebook</h2>\n    <form onSubmit={subHandler}>\n      <div>\n        name: <input name=\"name\" onChange={changeHandler} type=\"text\" />\n          number: <input name=\"number\" onChange={changeHandler} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n    <h2>Numbers</h2>\n    <ShowNumbers numbers={persons} filter={filter} setPersons={setPersons} />\n  </div>\n)\n}\nconst success = {\n  color: \"green\",\n  background: \"lightgrey\",\n  fontSize: \"20px\",\n  borderStyle: \"solid\",\n  borderRadius: \"5px\",\n  padding: \"10px\",\n  marginBottom: \"10px\"\n}\nconst fail = {\n  color: \"red\",\n  background: \"lightgrey\",\n  fontSize: \"20px\",\n  borderStyle: \"solid\",\n  borderRadius: \"5px\",\n  padding: \"10px\",\n  marginBottom: \"10px\"\n}\nconst Filter = ({ newFilter }) => {\n  const filterHandler = (status) => {\n    newFilter(status.target.value);\n  }\n  return (<form>\n    <input type=\"text\" onChange={filterHandler} />\n\n  </form>\n  )\n}\nconst Mensaje = ({mensaje,stilo}) => \n{\n  if(mensaje)\n  {\n    return (\n      <div style={stilo}>{mensaje}</div>\n    )\n  }\n  else\n  {\n    return (\n      <></>\n    )\n  }\n}\nconst ShowNumbers = ({ numbers, filter, setPersons}) => {\n  const regEx = new RegExp(`${filter}`, \"i\");\n  if (numbers.length !== 0) {\n    return (\n      <div>\n        {numbers.filter((actual) => actual.name).filter((actual) => actual.name.match(regEx)).map((actual) => {\n          return (\n            <div key={actual.id}>\n              <p><b>Name: </b>{actual.name}<b> Number: </b>{actual.number}</p>\n              <DeleteButton id={actual.id} setPersons={setPersons} number ={numbers}/>\n            </div>\n          )\n        })}\n      </div>\n    );\n  }\n  else {\n    return (<div></div>)\n  }\n}\nconst DeleteButton = ({id,setPersons,number}) =>\n{\n  const deleteFunction = () =>\n  {\n    if(window.confirm(`Desea eliminar a ${number.find((actual)=>actual.id === id).name}`))\n    {\n      dbConections.deleteThis(id)\n      .then(() => setPersons(number.filter((actual)=>actual.id !== id))\n      )\n\n    }\n  }\n  return (\n    <button onClick={deleteFunction}>\n      Delete\n    </button>\n  )\n} \nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}